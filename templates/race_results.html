{% extends "base.html" %}
{% block content %}
  <h2>📋 Results – {{ race.race_name }}</h2>
  <p><strong>Season:</strong> {{ race.season }} | <strong>Week:</strong> {{ race.week }} | <strong>Grade:</strong> {{ race.grade }}</p>

  {% if results %}
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Placement</th>
        <th>Player</th>
        <th>Uma</th>
        <th>SPD</th>
        <th>STA</th>
        <th>PWR</th>
        <th>GUT</th>
        <th>WIS</th>
        <th>Image</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr>
        <td>{{ result.placement }}</td>
        <td>{{ result.player_name }}</td>
        <td>  <strong>{{ result.uma_name }}</strong><br>
            Strategy: {{ result.uma_strategy }}<br>
        </td>
        <td>{{ result.uma_speed or '-' }}</td>
        <td>{{ result.uma_stamina or '-' }}</td>
        <td>{{ result.uma_power or '-' }}</td>
        <td>{{ result.uma_guts or '-' }}</td>
        <td>{{ result.uma_wisdom or '-' }}</td>
        <td>
            {% if result.uma_image_url %}
            <img src="{{ result.uma_image_url }}" alt="Uma Image" style="max-width: 60px;" title="Click to expand" onclick="window.open('{{ result.uma_image_url }}', '_blank')">
            {% else %}
            —
            {% endif %}
        </td>
        <td>{{ result.points }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No results submitted yet for this race.</p>
  {% endif %}

  <a href="{{ url_for('schedule') }}" class="btn btn-secondary">← Back to Schedule</a>
{% endblock %}
